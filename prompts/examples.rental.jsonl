{"input":{"mode":"design_schema","natural_language_task":"Design tables for a rental system with items, customers, and bookings.","preferences":{"naming":"snake_case","id_type":"uuid"}},"output":{"actions":["create_tables"],"migrations":[{"filename":"001_create_tables.sql","sql":"CREATE TABLE items (id UUID PRIMARY KEY, name TEXT); CREATE TABLE customers (id UUID PRIMARY KEY, email TEXT); CREATE TABLE bookings (id UUID PRIMARY KEY, item_id UUID REFERENCES items, customer_id UUID REFERENCES customers);"}],"rls_policies":[],"indexes":[{"sql":"CREATE INDEX ON bookings(item_id);"}],"queries":[],"error_explanations":[],"explanations":["Used UUID for IDs as per preferences."],"safe_to_execute":true}}
{"input":{"mode":"write_sql","natural_language_task":"Get all available items.","current_schema":"CREATE TABLE items (id UUID PRIMARY KEY, name TEXT, available BOOLEAN);"},"output":{"actions":[],"migrations":[],"rls_policies":[],"indexes":[],"queries":[{"description":"Retrieve available items","sql":"SELECT * FROM items WHERE available = true;"}],"error_explanations":[],"explanations":[],"safe_to_execute":true}}
{"input":{"mode":"design_rls","natural_language_task":"Add policies so users can only see their own bookings.","current_schema":"CREATE TABLE bookings (id UUID PRIMARY KEY, user_id UUID);"},"output":{"actions":["create_rls"],"migrations":[],"rls_policies":[{"on_table":"bookings","policy_name":"user_own_bookings","sql":"CREATE POLICY user_own_bookings ON bookings FOR SELECT USING (user_id = auth.uid());"}],"indexes":[],"queries":[],"error_explanations":[],"explanations":["Used auth.uid() for Supabase style."],"safe_to_execute":true}}
